<script>
  if ('caches' in window) {
      caches.keys().then(function(cacheNames) {
        cacheNames.forEach(function(cacheName) {
          caches.delete(cacheName);
        });
      });
    }

    // Register a service worker to control cache behavior
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('data:application/javascript;base64,' + btoa(`
          self.addEventListener('install', (event) => {
            event.waitUntil(
              caches.keys().then((cacheNames) => {
                return Promise.all(
                  cacheNames.map((cacheName) => {
                    return caches.delete(cacheName);
                  })
                );
              })
            );
          });

          self.addEventListener('fetch', (event) => {
            event.respondWith(
              fetch(event.request).then((response) => {
                return response;
              })
            );
          });
        `)).then((registration) => {
          console.log('Service Worker registered with scope:', registration.scope);
        }).catch((error) => {
          console.error('Service Worker registration failed:', error);
        });
      });
    }

</script>